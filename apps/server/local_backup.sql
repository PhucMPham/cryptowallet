PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `market_rate` (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`crypto` text NOT NULL,
	`fiat_currency` text NOT NULL,
	`rate` real NOT NULL,
	`source` text,
	`timestamp` integer NOT NULL
);
INSERT INTO market_rate VALUES(1,'USDT','VND',26434.0,'CoinGecko',1758531887);
INSERT INTO market_rate VALUES(2,'USDT','VND',26434.0,'CoinGecko',1758531888);
INSERT INTO market_rate VALUES(3,'USDT','VND',26437.0,'CoinGecko',1758534008);
INSERT INTO market_rate VALUES(4,'USDT','VND',26437.0,'CoinGecko',1758534008);
INSERT INTO market_rate VALUES(5,'USDT','VND',26437.0,'CoinGecko',1758534009);
INSERT INTO market_rate VALUES(6,'USDT','VND',26437.0,'CoinGecko',1758534009);
INSERT INTO market_rate VALUES(7,'USDT','VND',26437.0,'CoinGecko',1758534010);
INSERT INTO market_rate VALUES(8,'USDT','VND',26434.0,'CoinGecko',1758535092);
INSERT INTO market_rate VALUES(9,'USDT','VND',26434.0,'CoinGecko',1758535093);
INSERT INTO market_rate VALUES(10,'USDT','VND',26434.0,'CoinGecko',1758535099);
INSERT INTO market_rate VALUES(11,'USDT','VND',26434.0,'CoinGecko',1758535099);
INSERT INTO market_rate VALUES(12,'USDT','VND',26434.0,'CoinGecko',1758535100);
INSERT INTO market_rate VALUES(13,'USDT','VND',26429.0,'CoinGecko',1758608534);
CREATE TABLE `p2p_transaction` (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`type` text NOT NULL,
	`crypto` text DEFAULT 'USDT' NOT NULL,
	`crypto_amount` real NOT NULL,
	`fiat_currency` text DEFAULT 'VND' NOT NULL,
	`fiat_amount` real NOT NULL,
	`exchange_rate` real NOT NULL,
	`platform` text,
	`counterparty` text,
	`payment_method` text,
	`bank_name` text,
	`transaction_id` text,
	`notes` text,
	`transaction_date` integer NOT NULL,
	`user_id` text,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL
, `market_rate` real, `spread_percent` real, `fee_amount` real, `fee_percent` real);
INSERT INTO p2p_transaction VALUES(1,'buy','USDT',14547.56999999999971,'VND',400000000.0,27496.0,'Binance P2P','THAN_TAI_247_Team2','Bank Transfer','Vietcombank','22803323773183172608','Tài khoản Sacombank Phúc',1758533641,NULL,1758533685,1758533685,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(2,'buy','USDT',15030.25,'VND',400000000.0,26613.0,'Binance P2P','AutoPay_365Day','Bank Transfer','Vietcombank','22803340830812553216','Vietcombank Ba',1758533890,NULL,1758533961,1758533961,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(3,'buy','USDT',7519.649999999999637,'VND',200000000.0,26597.0,'Binance P2P','PhamLink','Bank Transfer','Vietcombank','22803342215237521408','Vietcombank Ba',1758533890,NULL,1758534003,1758534003,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(4,'buy','USDT',3756.860000000000127,'VND',100000000.0,26618.0,'Binance P2P','2Light','Bank Transfer','Vietinbank','22803323743077466112','vietinbank anh duy',1758534161,NULL,1758534236,1758534236,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(5,'buy','USDT',3745.59999999999991,'VND',100000000.0,26698.0,'Binance P2P','BendTheTrend','Bank Transfer','Viettinbank','22803330191393669120','Vietinbank anh Duy',1758534161,NULL,1758534302,1758535828,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(6,'buy','USDT',3745.59999999999991,'VND',100000000.0,26698.0,'Binance P2P','BendTheTrend','Bank Transfer','Vietinbank','22803330191393669120','Vietinbank anh Duy',1758534161,NULL,1758534353,1758534353,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(7,'buy','USDT',3756.150696765954308,'VND',100000000.0,26623.0,'Binance P2P','Vendetta_Bui','Bank Transfer','Viettinbank','22803338878383353856','Viettinbank anh Duy',1758534161,NULL,1758534389,1758534389,NULL,NULL,NULL,NULL);
INSERT INTO p2p_transaction VALUES(8,'buy','USDT',11246.90710054734881,'VND',300000000.0,26674.0,'Binance P2P','PhamLink','Bank Transfer','OCB','22803679560608993280','OCB - Phúc',1758608450,NULL,1758608479,1758608479,26434.0,0.907921616100476614,NULL,NULL);
INSERT INTO p2p_transaction VALUES(9,'buy','USDT',7497.9399999999996,'VND',200000000.0,26674.0,'Binance P2P','PhamLink','Bank Transfer','OCB','22803683420398432256','OCB - Phuc',1758608483,NULL,1758608503,1758608530,26434.0,0.907921616100476614,NULL,NULL);
CREATE TABLE IF NOT EXISTS "account" (
	`id` text PRIMARY KEY NOT NULL,
	`account_id` text NOT NULL,
	`provider_id` text NOT NULL,
	`user_id` text NOT NULL,
	`access_token` text,
	`refresh_token` text,
	`id_token` text,
	`access_token_expires_at` integer,
	`refresh_token_expires_at` integer,
	`scope` text,
	`password` text,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL,
	FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON UPDATE no action ON DELETE no action
);
INSERT INTO account VALUES('WoJkd0TLOhD4Zc1qbFmErmKu3vfYWDsd','gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu','credential','gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',NULL,NULL,NULL,NULL,NULL,NULL,'58b0536ff5897c9a9e1f09f7123f2643:bcdd4024a3aed705986c73e964b245c2f34be114f6b8bf13fa533e135e214ced4f1d4d69c296faae2ebf9ea0c83246a8d39da198e18460c831509b1671a83b4e',1758528361,1758528361);
CREATE TABLE IF NOT EXISTS "session" (
	`id` text PRIMARY KEY NOT NULL,
	`expires_at` integer NOT NULL,
	`token` text NOT NULL,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL,
	`ip_address` text,
	`user_agent` text,
	`user_id` text NOT NULL,
	FOREIGN KEY (`user_id`) REFERENCES `user`(`id`) ON UPDATE no action ON DELETE no action
);
CREATE TABLE IF NOT EXISTS "user" (
	`id` text PRIMARY KEY NOT NULL,
	`name` text NOT NULL,
	`email` text NOT NULL,
	`email_verified` integer NOT NULL,
	`image` text,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL
);
INSERT INTO user VALUES('gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu','Phạm Minh Phúc','phamminhphuc1@gmail.com',0,NULL,1758528361,1758528361);
CREATE TABLE IF NOT EXISTS "verification" (
	`id` text PRIMARY KEY NOT NULL,
	`identifier` text NOT NULL,
	`value` text NOT NULL,
	`expires_at` integer NOT NULL,
	`created_at` integer,
	`updated_at` integer
);
CREATE TABLE IF NOT EXISTS "crypto_asset" (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`symbol` text NOT NULL,
	`name` text NOT NULL,
	`user_id` text,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL
);
INSERT INTO crypto_asset VALUES(2,'ETH','Etherium',NULL,1758526598,1758526598);
INSERT INTO crypto_asset VALUES(3,'SOL','Solana','gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758533817,1758533817);
INSERT INTO crypto_asset VALUES(4,'LINK','Chainlink','gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758600462,1758600462);
INSERT INTO crypto_asset VALUES(5,'USDT','Tether',NULL,1758617351,1758617351);
INSERT INTO crypto_asset VALUES(7,'BTC','Bitcoin',NULL,1758619023,1758619023);
INSERT INTO crypto_asset VALUES(9,'ASTER','Aster',NULL,1758775607,1758775607);
INSERT INTO crypto_asset VALUES(10,'STBL','STBL',NULL,1758775863,1758775863);
CREATE TABLE IF NOT EXISTS "crypto_transaction" (
	`id` integer PRIMARY KEY AUTOINCREMENT NOT NULL,
	`asset_id` integer NOT NULL,
	`type` text NOT NULL,
	`quantity` real NOT NULL,
	`price_per_unit` real NOT NULL,
	`total_amount` real NOT NULL,
	`fee` real DEFAULT 0,
	`fee_currency` text DEFAULT 'USD',
	`fee_in_crypto` real,
	`exchange` text,
	`notes` text,
	`transaction_date` integer NOT NULL,
	`user_id` text,
	`created_at` integer NOT NULL,
	`updated_at` integer NOT NULL,
	FOREIGN KEY (`asset_id`) REFERENCES `crypto_asset`(`id`) ON UPDATE no action ON DELETE cascade
);
INSERT INTO crypto_transaction VALUES(9,2,'buy',1.768399999999999972,4150.0,7338.859999999999673,7.338860000000000383,'CRYPTO',0.001768400000000000049,'Binance','35993708173 - Phuc',1758499200,NULL,1758527337,1758620981);
INSERT INTO crypto_transaction VALUES(10,3,'buy',23.00700000000000145,220.0,5061.539999999999964,5.061539999999999929,'CRYPTO',0.02300699999999999968,'Binance','14215244748 - Binance ba',1758499200,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758533817,1758620999);
INSERT INTO crypto_transaction VALUES(11,4,'buy',175.5200000000000102,21.39999999999999857,3756.128000000000156,3.756127999999999912,'CRYPTO',0.1755200000000000093,'Binance','7207127830 - Binance anh Duy',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758600462,1758621009);
INSERT INTO crypto_transaction VALUES(12,3,'buy',17.42099999999999938,215.0,3745.514999999999873,3.745514999999999705,'CRYPTO',0.01742099999999999899,'Binance','14214031316 - Binance anh Duy',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758600497,1758620989);
INSERT INTO crypto_transaction VALUES(13,3,'buy',23.54100000000000036,215.0,5061.315000000000509,5.061314999999999565,'CRYPTO',0.02354099999999999943,'Binance','14215238456 - Binance ba',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758600550,1758620993);
INSERT INTO crypto_transaction VALUES(15,5,'buy',14547.56999999999971,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 27496 VND/USDT - Tài khoản Sacombank Phúc [Migrated] - Purchased with USDT',1758533641,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(16,5,'buy',15030.25,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26613 VND/USDT - Vietcombank Ba [Migrated] - Purchased with USDT',1758533890,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(17,5,'buy',7519.649999999999637,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26597 VND/USDT - Vietcombank Ba [Migrated] - Purchased with USDT',1758533890,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(18,5,'buy',3756.860000000000127,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26618 VND/USDT - vietinbank anh duy [Migrated] - Purchased with USDT',1758534161,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(19,5,'buy',3745.59999999999991,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26698 VND/USDT - Vietinbank anh Duy [Migrated] - Purchased with USDT',1758534161,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(20,5,'buy',3745.59999999999991,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26698 VND/USDT - Vietinbank anh Duy [Migrated] - Purchased with USDT',1758534161,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(21,5,'buy',3756.150696765954308,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26623 VND/USDT - Viettinbank anh Duy [Migrated] - Purchased with USDT',1758534161,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(22,5,'buy',11246.90710054734881,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26674 VND/USDT - OCB - Phúc [Migrated] - Purchased with USDT',1758608450,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(23,5,'buy',7497.9399999999996,1.0,0.0,0.0,'USD',0.0,'P2P-Binance P2P','P2P buy at 26674 VND/USDT - OCB - Phuc [Migrated] - Purchased with USDT',1758608483,NULL,1758617351,1758617351);
INSERT INTO crypto_transaction VALUES(24,5,'sell',7346.198859999999514,1.0,7346.198859999999514,0.0,'USD',NULL,'Binance','USDT used to buy 1.7684 ETH at $4150/unit',1758499200,NULL,1758618836,1758618836);
INSERT INTO crypto_transaction VALUES(25,5,'sell',5066.601539999999659,1.0,5066.601539999999659,0.0,'USD',NULL,'Binance','USDT used to buy 23.007 SOL at $220/unit',1758499200,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758618836,1758618836);
INSERT INTO crypto_transaction VALUES(26,5,'sell',3759.884128000000146,1.0,3759.884128000000146,0.0,'USD',NULL,'Binance','USDT used to buy 175.52 LINK at $21.4/unit',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758618836,1758618836);
INSERT INTO crypto_transaction VALUES(27,5,'sell',3749.260514999999942,1.0,3749.260514999999942,0.0,'USD',NULL,'Binance','USDT used to buy 17.421 SOL at $215/unit',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758618836,1758618836);
INSERT INTO crypto_transaction VALUES(28,5,'sell',5066.376315000000432,1.0,5066.376315000000432,0.0,'USD',NULL,'Binance','USDT used to buy 23.541 SOL at $215/unit',1758585600,'gS8LFiRYtBQJaTjzaUtNJn9E9zzpluUu',1758618836,1758618836);
INSERT INTO crypto_transaction VALUES(34,5,'sell',4985.84374200000093,1.0,4985.84374200000093,0.0,'USD',NULL,'Binance','Used USDT to buy 23.742 SOL at $210',1758672000,NULL,1758687715,1758687715);
INSERT INTO crypto_transaction VALUES(36,5,'sell',4990.805820000000494,1.0,4990.805820000000494,0.0,'USD',NULL,'Binance','Used USDT to buy 23.742 SOL at $210',1758672000,NULL,1758688101,1758688101);
INSERT INTO crypto_transaction VALUES(37,3,'buy',23.74200000000000088,210.0,4985.820000000000619,4.985819999999999474,'CRYPTO',0.02374199999999999922,'Binance','14215229440 - binance ba',1758672000,NULL,1758688101,1758688379);
INSERT INTO crypto_transaction VALUES(38,5,'sell',7448.531090000000403,1.0,7448.531090000000403,0.0,'USD',NULL,'Binance','Used USDT to buy 1.8149 ETH at $4100',1758672000,NULL,1758688449,1758688449);
INSERT INTO crypto_transaction VALUES(39,2,'buy',1.814899999999999958,4100.0,7441.090000000000145,7.441089999999999983,'CRYPTO',0.001814899999999999934,'Binance','35997443127 - binance ba',1758672000,NULL,1758688449,1758688449);
INSERT INTO crypto_transaction VALUES(40,5,'sell',4773.866697600000406,1.0,4773.866697600000406,0.0,'USD',NULL,'Binance','Used USDT to buy 1.1598 ETH at $4112',1758672000,NULL,1758689647,1758689647);
INSERT INTO crypto_transaction VALUES(41,2,'buy',1.159799999999999943,4112.0,4769.097600000000056,4.769097599999999381,'CRYPTO',0.001159799999999999894,'Binance','36040841279 - binance Phúc',1758672000,NULL,1758689647,1758689647);
INSERT INTO crypto_transaction VALUES(42,5,'sell',6612.540934999999081,1.0,6612.540934999999081,0.0,'USD',NULL,'Bịnance','Used USDT to buy 1.5995 ETH at $4130',1758672000,NULL,1758689761,1758689761);
INSERT INTO crypto_transaction VALUES(43,2,'buy',1.599499999999999922,4130.0,6605.934999999999491,6.605934999999999669,'CRYPTO',0.00159950000000000001,'Bịnance','36034002992 - Binance Phúc',1758672000,NULL,1758689761,1758689761);
INSERT INTO crypto_transaction VALUES(44,5,'sell',4975.556185600000389,1.0,4975.556185600000389,0.0,'USD',NULL,'Binance','Used USDT to buy 1.2088 ETH at $4112',1758672000,NULL,1758690168,1758690168);
INSERT INTO crypto_transaction VALUES(45,2,'buy',1.208800000000000096,4112.0,4970.58560000000034,4.970585599999999716,'CRYPTO',0.001208799999999999892,'Binance','36040841279 - binance Phúc',1758672000,NULL,1758690168,1758690168);
INSERT INTO crypto_transaction VALUES(46,5,'sell',5000.496999699999832,1.0,5000.496999699999832,0.0,'USD',NULL,'Binance','Used USDT to buy 2325.58 ASTER at $2.15',1758770760,NULL,1758775607,1758775607);
INSERT INTO crypto_transaction VALUES(47,9,'buy',2325.579999999999928,2.149999999999999912,4999.996999999999388,0.4999996999999999358,'CRYPTO',0.232557999999999987,'Binance','13888732 - binance Phúc',1758770760,NULL,1758775607,1758775607);
INSERT INTO crypto_transaction VALUES(48,5,'sell',2700.267859785999917,1.0,2700.267859785999917,0.0,'USD',NULL,'Binance','Used USDT to buy 5781.58 STBL at $0.467',1758774660,NULL,1758775863,1758775863);
INSERT INTO crypto_transaction VALUES(49,10,'buy',5781.579999999999928,0.4670000000000000262,2699.997859999999947,0.2699997860000000193,'CRYPTO',0.5781579999999999498,'Binance','14883183 - Binance Phúc',1758774660,NULL,1758775863,1758775863);
INSERT INTO sqlite_sequence VALUES('crypto_asset',10);
INSERT INTO sqlite_sequence VALUES('crypto_transaction',49);
INSERT INTO sqlite_sequence VALUES('market_rate',13);
INSERT INTO sqlite_sequence VALUES('p2p_transaction',9);
CREATE UNIQUE INDEX `session_token_unique` ON `session` (`token`);
CREATE UNIQUE INDEX `user_email_unique` ON `user` (`email`);
COMMIT;
